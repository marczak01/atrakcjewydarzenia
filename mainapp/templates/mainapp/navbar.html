{% load static %}

<nav class="nav">
    <div class="nav__logo">
        <a href="{% url 'mainapp:home' %}">Evently</a>
    </div>
    {% if request.user.is_authenticated %}
        <div class="nav__profile">
            <div class="nav__profile__img">
                {% if request.user.profile.photo %}
                    <img src="{{ request.user.profile.photo.url }}" alt="">
                {% else %}
                    <img src="{% static 'images/default.png' %}" alt="">
                {% endif %}
            </div>
            <div class="nav__profile-info">
                <p class="nav__profile-info-name">
                    {% if request.user.last_name and request.user.first_name %}
                        {{ request.user.first_name}} {{ request.user.last_name}}
                    {% else %}
                        {{ request.user.username }}
                    {% endif %}
                </p>
            </div>
            <span class="nav__profile-more">&darr;</span>
        </div>
    {% endif %}
    <ul class="nav__options">
        {% if request.user.is_authenticated %}
            <li class="nav__options__option">
                <a class="nav__options__option-link" href="{% url 'account:dashboard' %}">Panel uzytkownika</a>
            </li>
            <li class="nav__options__option">
                <a class="nav__options__option-link" href="{% url 'account:dashboard' %}">Wiadomości</a>
            </li>
            <li class="nav__options__option">
                <a class="nav__options__option-link" href="{% url 'account:dashboard' %}">Powiadomienia</a>
            </li>
            <li class="nav__options__option">
                <a class="nav__options__option-link" href="{% url 'account:dashboard' %}">Obserwowane</a>
            </li>
        {% else %}
            <li class="nav__options__option">
                <h3>Zaloguj się aby mieć więcej korzyści ze strony!</h3>
            </li>
            <li class="nav__options__option">
                <form action="{% url 'account:login' %}" method="post">
                    {% csrf_token %}
                    <button class="nav__buttons-btn nav__options__option-link">Zaloguj się</button>
                </form>
            </li>
        {% endif %}
        <li class="nav__options__option">
            <a class="nav__options__option-link" href="{% url 'account:dashboard' %}">Odkrywaj</a>
        </li>
    </ul>
    <div class="nav__buttons">
        <a class="nav__buttons-icon" href="#">
            <svg class="nav__buttons-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zm2.8-6.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5"/></svg>
        </a>
        {% if request.user.is_authenticated %}
            <form action="{% url 'account:logout' %}" method="post">
                {% csrf_token %}
                <button class="nav__buttons-btn">Wyloguj się</button>
            </form>
        {% else %}
            <form action="{% url 'account:login' %}" method="post">
                {% csrf_token %}
                <button class="nav__buttons-btn">Zaloguj się</button>
            </form>
        {% endif %}
    </div>
</nav>


<!-- <nav class="nav">

        {% if request.user.is_authenticated %}
            <li class="nav__links__link nav__links__link-message">
                <span class="nav__links__link-message-number">0</span>

                <a href="{% url 'account:messages' %}">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="nav__links__link-icon">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
                    </svg>
                </a>
            </li>
            <li class="nav__links__link nav__links__link-profile">
                <a href='{% url "account:dashboard" %}'>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="nav__links__link-icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                    </svg>
                </a>
                <div class="nav__links__link-profile-hover">
                    <ul>
                        <a href="{% url 'account:dashboard' %}"><li>Profil</li></a>
                        <a href="{% url 'mainapp:add_event' %}"><li>Dodaj Event</li></a>
                        <a href="{% url 'mainapp:add_attraction' %}"><li>Dodaj Atrakcje</li></a>
                    </ul>
                </div>
            </li>
            <li class="nav__links__link nav__links__link-notification">
                <span class="nav__links__link-notification-number">0</span>
                <a href='{% url "account:dashboard" %}'>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="nav__links__link-icon">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />
                      </svg>
                </a>
                <div class="nav__links__link-notification-hover">
                    <ul>
                        <a href="{% url 'account:messages' %}"><li>Masz nową wiadomość od Antonio</li></a>
                        <a href="{% url 'account:dashboard' %}"><li>Ktoś obsewtuje twoje wydarzenie!</li></a>
                        <a href="{% url 'account:dashboard' %}"><li>Ktoś obsewtuje twoją atrakcję</li></a>
                        <a href="{% url 'account:dashboard' %}"><li>Your event reach 100 followings</li></a>
                        <a href="{% url 'account:dashboard' %}"><li>Your event was checked by 1211 people!</li></a>
                        <a href="{% url 'account:messages' %}"><li>You've got new message from Antonio</li></a>
                        <a href="{% url 'account:messages' %}"><li>You've got new message from Antonio</li></a>
                        <a href="{% url 'account:messages' %}"><li>You've got new message from Antonio</li></a>
                    </ul>
                </div>
            </li>
            <li class="nav__links__link">
                <form action="{% url 'account:logout' %}" method="post">
                    have to use form with method post because 
                     logout method was not allowed GET
                    {% csrf_token %}
                    <button>Wyloguj się</button>
                </form> 
                <a href="{% url 'account:logout' %} ">Wyloguj się</a> 
            </li>

        {% else %}
            <li class="nav__links__link"><a href="{% url 'account:register' %}">Rejestracja</a></li>
            <li class="nav__links__link"><a href="{% url 'account:login' %}">Logowanie</a></li>
        {% endif %}
    </ul>
</nav> -->